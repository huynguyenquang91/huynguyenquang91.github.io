<!DOCTYPE html>

<html lang="vi" class="scroll-smooth">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Portfolio Phóng Viên Thể Thao - Nguyễn Quang Huy</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>

        body {

            font-family: 'Inter', sans-serif;

        }

        .section-title {

            border-left: 4px solid #1D4ED8; /* blue-700 */

            padding-left: 1rem;

        }

        .card-image {

            height: 200px;

            object-fit: cover;

        }

        /* Loading Spinner */

        .loader {

            border: 5px solid #f3f3f3;

            border-radius: 50%;

            border-top: 5px solid #3498db;

            width: 50px;

            height: 50px;

            animation: spin 1s linear infinite;

            margin: 40px auto;

        }

        @keyframes spin {

            0% { transform: rotate(0deg); }

            100% { transform: rotate(360deg); }

        }

    </style>

</head>

<body class="bg-gray-50 text-gray-800">



    <!-- Header -->

    <header class="bg-white shadow-sm sticky top-0 z-50">

        <div class="container mx-auto px-6 py-4 flex justify-between items-center">

            <h1 class="text-2xl font-bold text-gray-900">Nguyễn Quang Huy</h1>

            <nav class="hidden md:flex space-x-6">

                <a href="#about" class="text-gray-600 hover:text-blue-700 transition duration-300">Tôi là ai</a>

                <a href="#portfolio" class="text-gray-600 hover:text-blue-700 transition duration-300">Tôi đã làm gì</a>

                <a href="#contact" class="text-gray-600 hover:text-blue-700 transition duration-300">Liên hệ tôi</a>

            </nav>

        </div>

    </header>



    <!-- Main Content -->

    <main class="container mx-auto px-6 py-12">



        <!-- Hero Section -->

        <section id="about" class="text-center mb-20">

            <div class="w-24 h-24 rounded-full mx-auto mb-4 bg-gray-300 overflow-hidden shadow-lg">

                <img src="https://scontent.fsgn5-3.fna.fbcdn.net/v/t39.30808-6/481284701_9681181325247874_2374222373212151549_n.jpg?_nc_cat=104&ccb=1-7&_nc_sid=833d8c&_nc_ohc=Mlqnik80eDkQ7kNvwHZblt_&_nc_oc=Adkh3xJVhDckK5Jn_6KbKPOBc_DFb_pkubtQ8tSKMbNH8rF38pCuK8urZyUhQoTQ7gY&_nc_zt=23&_nc_ht=scontent.fsgn5-3.fna&_nc_gid=-cezGWJ8_X63aUPCQkuv2A&oh=00_AfV2Wv473jH8Cuv4bajGv6myTS4_4g5BdJEOz-RpCFl9yg&oe=68A7A400" alt="Ảnh chân dung Nguyễn Quang Huy" class="w-full h-full object-cover">

            </div>

            <h2 class="text-4xl font-bold text-gray-900 mb-2">Phóng Viên Thể Thao</h2>

            <p class="text-lg text-gray-600 max-w-3xl mx-auto">

                Với hơn 10 năm kinh nghiệm, tôi đi sâu vào việc phân tích chiến thuật, kể những câu chuyện truyền cảm hứng và mang đến góc nhìn đa chiều về thế giới thể thao trong nước và quốc tế.

            </p>

        </section>



        <!-- Portfolio Section -->

        <section id="portfolio">

            <h3 class="text-3xl font-bold mb-6 section-title">Tác Phẩm Tiêu Biểu</h3>

            

            <!-- Filter Controls -->

            <div id="filters" class="bg-white p-4 rounded-lg shadow-sm mb-8 flex flex-col md:flex-row gap-4 items-center">

                <div class="w-full md:w-1/3">

                    <label for="filter-chuyen-muc" class="block text-sm font-medium text-gray-700 mb-1">Chuyên mục</label>

                    <select id="filter-chuyen-muc" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">

                        <option value="all">Tất cả chuyên mục</option>

                    </select>

                </div>

                <div class="w-full md:w-1/3">

                    <label for="filter-mon-the-thao" class="block text-sm font-medium text-gray-700 mb-1">Môn thể thao</label>

                    <select id="filter-mon-the-thao" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">

                        <option value="all">Tất cả môn thể thao</option>

                    </select>

                </div>

            </div>



            <!-- Articles Grid -->

            <div id="articles-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">

                <!-- Dữ liệu sẽ được chèn vào đây bởi JavaScript -->

                <div class="loader col-span-full"></div>

            </div>

            <p id="no-results" class="text-center text-gray-500 text-lg hidden col-span-full mt-8">Không tìm thấy bài viết nào phù hợp.</p>



        </section>

    </main>



    <!-- Footer -->

    <footer id="contact" class="bg-gray-800 text-white">

        <div class="container mx-auto px-6 py-10 text-center">

            <h3 class="text-3xl font-bold mb-4">Liên Hệ Hợp Tác</h3>

            <p class="text-gray-300 mb-6">Tôi luôn sẵn sàng cho những cơ hội và dự án mới.</p>

            <div class="flex justify-center items-center space-x-6">

                <a href="mailto:huynguyendl2110@gmail.com" class="text-lg bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition duration-300">

                    Gửi Email

                </a>

                <a href="https://www.linkedin.com/in/huy-nguyen-386829272/" target="_blank" class="text-gray-400 hover:text-white transition duration-300">

                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z"></path></svg>

                </a>

            </div>

        </div>

    </footer>



    <script>

        document.addEventListener('DOMContentLoaded', function() {

            const googleSheetUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSAJGbrNimL-3rQ70eZDRlEttnqeqdET2LPMYcgaiJ2bqVjjECwLQEjt1QN6aHjWTeOhUK2KzvJvVlB/pub?output=csv';

            

            let allArticles = [];

            const articlesGrid = document.getElementById('articles-grid');

            const noResultsMsg = document.getElementById('no-results');

            const filterChuyenMuc = document.getElementById('filter-chuyen-muc');

            const filterMonTheThao = document.getElementById('filter-mon-the-thao');



            async function fetchSheetData() {

                try {

                    const response = await fetch(googleSheetUrl);

                    if (!response.ok) throw new Error('Network response was not ok');

                    const csvText = await response.text();

                    

                    allArticles = parseCSV(csvText);

                    

                    document.querySelector('.loader')?.remove();

                    populateFilters(allArticles);

                    renderArticles(allArticles);



                } catch (error) {

                    console.error('Lỗi khi lấy dữ liệu từ Google Sheet:', error);

                    articlesGrid.innerHTML = '<p class="text-red-500 col-span-full text-center">Không thể tải dữ liệu. Vui lòng kiểm tra lại link Google Sheet và đảm bảo đã "Xuất bản lên web".</p>';

                }

            }



            // --- HÀM PARSE CSV PHIÊN BẢN CUỐI CÙNG ---

            function parseCSV(text) {

                const lines = text.split(/\r\n|\n/);

                const headers = lines[0].split(',').map(h => h.trim());

                const result = [];



                for (let i = 1; i < lines.length; i++) {

                    if (!lines[i].trim()) continue;



                    const obj = {};

                    let values = [];

                    let currentVal = '';

                    let inQuotes = false;



                    for (const char of lines[i]) {

                        if (char === '"' && inQuotes && lines[i][lines[i].indexOf(char) + 1] === '"') {

                            // Handle escaped quote

                            currentVal += '"';

                            // Skip the next quote

                            continue;

                        }

                        

                        if (char === '"') {

                            inQuotes = !inQuotes;

                        } else if (char === ',' && !inQuotes) {

                            values.push(currentVal);

                            currentVal = '';

                        } else {

                            currentVal += char;

                        }

                    }

                    values.push(currentVal);



                    if (values.length === headers.length) {

                        for (let j = 0; j < headers.length; j++) {

                            obj[headers[j]] = values[j].trim();

                        }

                        if (obj['URL']) {

                           result.push(obj);

                        }

                    } else {

                         console.warn(`Bỏ qua dòng ${i+1} do không khớp số cột. Cần ${headers.length}, nhận được ${values.length}. Nội dung dòng:`, lines[i]);

                    }

                }

                return result;

            }





            function populateFilters(data) {

                const chuyenMucSet = new Set();

                const monTheThaoSet = new Set();



                data.forEach(item => {

                    if (item['Chuyên mục']) chuyenMucSet.add(item['Chuyên mục']);

                    if (item['Môn thể thao']) monTheThaoSet.add(item['Môn thể thao']);

                });



                chuyenMucSet.forEach(value => {

                    const option = document.createElement('option');

                    option.value = value;

                    option.textContent = value;

                    filterChuyenMuc.appendChild(option);

                });



                monTheThaoSet.forEach(value => {

                    const option = document.createElement('option');

                    option.value = value;

                    option.textContent = value;

                    filterMonTheThao.appendChild(option);

                });

            }

            

            function renderArticles(data) {

                articlesGrid.innerHTML = '';

                if (data.length === 0) {

                    noResultsMsg.classList.remove('hidden');

                } else {

                    noResultsMsg.classList.add('hidden');

                }



                data.forEach(item => {

                    const imageUrl = item['imageUrl'] || item['Thumb']; 

                    const articleHtml = `

                        <a href="${item['URL']}" target="_blank" rel="noopener noreferrer" class="block bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden">

                            <img src="${imageUrl}" alt="${item['title']}" class="w-full card-image" onerror="this.onerror=null;this.src='https://placehold.co/600x400/EFEFEF/333333?text=Image+Not+Found';">

                            <div class="p-6">

                                <div class="flex flex-wrap gap-2 mb-2">

                                    <span class="text-xs bg-blue-100 text-blue-800 py-1 px-2 rounded-full font-medium">${item['Chuyên mục']}</span>

                                    <span class="text-xs bg-green-100 text-green-800 py-1 px-2 rounded-full font-medium">${item['Môn thể thao']}</span>

                                </div>

                                <h4 class="font-bold text-xl mb-2 text-gray-900">${item['title']}</h4>

                                <p class="text-gray-600 text-base">${item['lead']}</p>

                            </div>

                        </a>

                    `;

                    articlesGrid.innerHTML += articleHtml;

                });

            }



            function applyFilters() {

                const selectedChuyenMuc = filterChuyenMuc.value;

                const selectedMonTheThao = filterMonTheThao.value;



                const filteredArticles = allArticles.filter(item => {

                    const chuyenMucMatch = selectedChuyenMuc === 'all' || item['Chuyên mục'] === selectedChuyenMuc;

                    const monTheThaoMatch = selectedMonTheThao === 'all' || item['Môn thể thao'] === selectedMonTheThao;

                    return chuyenMucMatch && monTheThaoMatch;

                });



                renderArticles(filteredArticles);

            }



            filterChuyenMuc.addEventListener('change', applyFilters);

            filterMonTheThao.addEventListener('change', applyFilters);



            fetchSheetData();

        });

    </script>



</body>

</html>

